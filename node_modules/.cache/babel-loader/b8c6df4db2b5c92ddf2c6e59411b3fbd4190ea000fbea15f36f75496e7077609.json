{"ast":null,"code":"import React,{useRef,useCallback}from'react';import{Hole}from'../Hole/Hole';import styles from'./GameBoard.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CANVAS_SIZE=600;const SIZE=4;const CELL=CANVAS_SIZE/SIZE;const OFFSET=30;export function GameBoard(_ref){let{mode,gridToDraw,animating,onHoleClick,onCanvasClick,mouseMarkerRef,holeRefs,canvasRef}=_ref;const boardWrapperRef=useRef(null);// Create holes array\nconst holes=[];let n=1;// Top row\nfor(let c=0;c<SIZE;c++){holes.push({num:n++,x:c*CELL+CELL/2,y:-OFFSET});}// Right column\nfor(let r=0;r<SIZE;r++){holes.push({num:n++,x:CANVAS_SIZE+OFFSET,y:r*CELL+CELL/2});}// Bottom row\nfor(let c=SIZE-1;c>=0;c--){holes.push({num:n++,x:c*CELL+CELL/2,y:CANVAS_SIZE+OFFSET});}// Left column\nfor(let r=SIZE-1;r>=0;r--){holes.push({num:n++,x:-OFFSET,y:r*CELL+CELL/2});}const handleCanvasClick=useCallback(e=>{if(mode!=='inference'||animating||!canvasRef.current)return;const rect=canvasRef.current.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const c=Math.floor(x/CELL);const r=Math.floor(y/CELL);if(r<0||r>=SIZE||c<0||c>=SIZE)return;onCanvasClick(r,c);},[mode,animating,onCanvasClick,canvasRef]);return/*#__PURE__*/_jsx(\"div\",{className:styles.leftColumn,children:/*#__PURE__*/_jsxs(\"div\",{ref:boardWrapperRef,className:styles.boardWrapper,children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:CANVAS_SIZE,height:CANVAS_SIZE,onClick:handleCanvasClick}),holes.map((hole,index)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Hole,{number:hole.num,x:hole.x,y:hole.y,onClick:onHoleClick,animating:animating,ref:el=>{if(holeRefs&&el)holeRefs.current[index]=el;}})},hole.num)),/*#__PURE__*/_jsx(\"img\",{ref:mouseMarkerRef,className:styles.mouseMarker,src:(process.env.PUBLIC_URL||'.')+'/movingmouse.png',alt:\"Mouse\"})]})});}","map":{"version":3,"names":["React","useRef","useCallback","Hole","styles","jsx","_jsx","jsxs","_jsxs","CANVAS_SIZE","SIZE","CELL","OFFSET","GameBoard","_ref","mode","gridToDraw","animating","onHoleClick","onCanvasClick","mouseMarkerRef","holeRefs","canvasRef","boardWrapperRef","holes","n","c","push","num","x","y","r","handleCanvasClick","e","current","rect","getBoundingClientRect","clientX","left","clientY","top","Math","floor","className","leftColumn","children","ref","boardWrapper","width","height","onClick","map","hole","index","number","el","mouseMarker","src","process","env","PUBLIC_URL","alt"],"sources":["/Users/joshuaabrams/Library/CloudStorage/Dropbox/Professional Development Activities & Workshops/*Making Math Website/VariedContent/Geometry/LogicAndReasoning/MouseMazes/mouse-mazes-react/src/components/GameBoard/GameBoard.jsx"],"sourcesContent":["import React, { useRef, useCallback } from 'react';\nimport { Hole } from '../Hole/Hole';\nimport styles from './GameBoard.module.css';\n\nconst CANVAS_SIZE = 600;\nconst SIZE = 4;\nconst CELL = CANVAS_SIZE / SIZE;\nconst OFFSET = 30;\n\nexport function GameBoard({\n  mode,\n  gridToDraw,\n  animating,\n  onHoleClick,\n  onCanvasClick,\n  mouseMarkerRef,\n  holeRefs,\n  canvasRef\n}) {\n  const boardWrapperRef = useRef(null);\n\n  // Create holes array\n  const holes = [];\n  let n = 1;\n  // Top row\n  for (let c = 0; c < SIZE; c++) {\n    holes.push({ num: n++, x: c * CELL + CELL / 2, y: -OFFSET });\n  }\n  // Right column\n  for (let r = 0; r < SIZE; r++) {\n    holes.push({ num: n++, x: CANVAS_SIZE + OFFSET, y: r * CELL + CELL / 2 });\n  }\n  // Bottom row\n  for (let c = SIZE - 1; c >= 0; c--) {\n    holes.push({ num: n++, x: c * CELL + CELL / 2, y: CANVAS_SIZE + OFFSET });\n  }\n  // Left column\n  for (let r = SIZE - 1; r >= 0; r--) {\n    holes.push({ num: n++, x: -OFFSET, y: r * CELL + CELL / 2 });\n  }\n\n  const handleCanvasClick = useCallback((e) => {\n    if (mode !== 'inference' || animating || !canvasRef.current) return;\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const c = Math.floor(x / CELL);\n    const r = Math.floor(y / CELL);\n    if (r < 0 || r >= SIZE || c < 0 || c >= SIZE) return;\n    onCanvasClick(r, c);\n  }, [mode, animating, onCanvasClick, canvasRef]);\n\n  return (\n    <div className={styles.leftColumn}>\n      <div ref={boardWrapperRef} className={styles.boardWrapper}>\n        <canvas\n          ref={canvasRef}\n          width={CANVAS_SIZE}\n          height={CANVAS_SIZE}\n          onClick={handleCanvasClick}\n        />\n        {holes.map((hole, index) => (\n          <div key={hole.num}>\n            <Hole\n              number={hole.num}\n              x={hole.x}\n              y={hole.y}\n              onClick={onHoleClick}\n              animating={animating}\n              ref={el => { if (holeRefs && el) holeRefs.current[index] = el; }}\n            />\n          </div>\n        ))}\n        <img\n          ref={mouseMarkerRef}\n          className={styles.mouseMarker}\n          src={(process.env.PUBLIC_URL || '.') + '/movingmouse.png'}\n          alt=\"Mouse\"\n        />\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}