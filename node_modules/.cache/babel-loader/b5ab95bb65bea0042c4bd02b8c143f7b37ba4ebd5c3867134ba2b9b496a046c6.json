{"ast":null,"code":"import React,{useState,useCallback,useRef,useEffect}from'react';import{GameControls}from'./components/GameControls/GameControls';import{GameBoard}from'./components/GameBoard/GameBoard';import{SidePanel}from'./components/SidePanel/SidePanel';import{useMazeGame}from'./hooks/useMazeGame';import{useMazeCanvas}from'./hooks/useMazeCanvas';import{useAnimation}from'./hooks/useAnimation';import{emptyGrid,simulateHoleWithGrid,computeMappingForGrid}from'./utils/mazeUtils';import styles from'./App.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[mode,setMode]=useState('intro');const[mazeType,setMazeType]=useState('walls');const[level,setLevel]=useState('beginner');const[prompt,setPrompt]=useState('Click \"Start New Game\" to begin.\\nIn Introduction mode, you\\'ll get 8 questions on the same maze.\\nIn Inference mode, you\\'ll probe the maze and build your own model.');const[promptIsHTML,setPromptIsHTML]=useState(false);const[feedback,setFeedback]=useState('');const[feedbackClass,setFeedbackClass]=useState('');const[logEntries,setLogEntries]=useState([]);const mouseMarkerRef=useRef(null);const holeRefs=useRef([]);const game=useMazeGame(mazeType,level,mode);const gridToDraw=mode==='intro'?game.realGrid:game.modelGrid;const{canvasRef,ctxRef,drawMaze}=useMazeCanvas(gridToDraw);const{animating,animatePath,animateInferenceProbe}=useAnimation(ctxRef,canvasRef,drawMaze,mouseMarkerRef);const formatQuestionPrompt=useCallback((question,questionIndex,totalQuestions,mazeType,toggleIntroColor)=>{const color=toggleIntroColor()?\"#e67e22\":\"#1f6ad3\";let scenarioLine=\"\";let rest=\"\";if(question.mode===\"forward\"){scenarioLine=\"A mouse leaves hole \".concat(question.startHole,\".\");const extra=mazeType===\"arrows\"?' (You can also choose \"The Mouse Doesn\\'t Come Out!\")':\"\";rest=\"Where will it come out? Click a hole.\".concat(extra);}else if(question.mode===\"reverseWalls\"){scenarioLine=\"A mouse ends up in hole \".concat(question.endHole,\".\");rest=\"From which hole did it start? Click a starting hole.\";}else{scenarioLine=\"A mouse ends up in hole \".concat(question.endHole,\".\");rest=\"Click on one hole that could have been its starting hole.\";}return\"Question \".concat(questionIndex,\" of \").concat(totalQuestions,\":<br>\")+\"<span style=\\\"font-weight:bold;color:\".concat(color,\";\\\">\").concat(scenarioLine,\"</span><br>\")+\"\".concat(rest);},[]);// Update prompt when mode changes\nuseEffect(()=>{if(mode==='intro'){setPrompt('Introduction mode:\\nClick \"Start New Game\" to get 8 questions on the same maze.\\nAnswer by clicking a hole (or \"The Mouse Doesn\\'t Come Out!\" when appropriate).');setPromptIsHTML(false);}else{setPrompt('Inference mode:\\nClick mouse holes to probe the hidden maze (log appears below).\\nClick inside rooms to set your model (blank / wall / arrow).\\nWhen you\\'re ready, press \"Test My Model\".');setPromptIsHTML(false);}setFeedback('');setFeedbackClass('');},[mode]);// Update prompt when question changes\nuseEffect(()=>{if(mode==='intro'&&game.currentQuestion&&game.questionIndex>0&&game.questionIndex<=game.TOTAL_QUESTIONS&&game.toggleIntroColor){setPrompt(formatQuestionPrompt(game.currentQuestion,game.questionIndex,game.TOTAL_QUESTIONS,mazeType,game.toggleIntroColor));setPromptIsHTML(true);}},[game.currentQuestion,game.questionIndex,mode,mazeType,formatQuestionPrompt,game.TOTAL_QUESTIONS]);const handleModeChange=useCallback(newMode=>{setMode(newMode);},[]);const handleMazeTypeChange=useCallback(newMazeType=>{setMazeType(newMazeType);},[]);const handleLevelChange=useCallback(newLevel=>{setLevel(newLevel);},[]);const handleNewGame=useCallback(()=>{if(mode==='intro'){const result=game.startIntroGame();if(result&&result.question&&game.toggleIntroColor){setPrompt(formatQuestionPrompt(result.question,result.questionIndex,game.TOTAL_QUESTIONS,mazeType,game.toggleIntroColor));setPromptIsHTML(true);}setFeedback('');setFeedbackClass('');}else{game.startInferenceGame();setPrompt('Inference mode:\\nClick mouse holes to probe the hidden maze (log appears below).\\nClick inside rooms to set your model (blank / wall / arrow).\\nWhen you\\'re ready, press \"Test My Model\".');setPromptIsHTML(false);setFeedback('');setFeedbackClass('');setLogEntries([]);}},[mode,game,mazeType,formatQuestionPrompt]);const handleHoleClick=useCallback(holeNum=>{if(animating)return;if(mode==='intro'){const result=game.handleIntroAnswer(holeNum,false);if(!result)return;animatePath(result.info.path,result.info.exitHole,result.info.trapped,result.animStartHole,()=>{const feedbackResult=result.after();if(feedbackResult){setFeedback(feedbackResult.feedback);setFeedbackClass(feedbackResult.feedbackClass);if(feedbackResult.isCorrect!==undefined){// Update score display will happen automatically via game state\nsetTimeout(()=>{if(game.questionIndex<game.TOTAL_QUESTIONS){// Get next question\ngame.nextQuestion(game.mapping);// Question will be set in state, we'll update prompt in useEffect\n}else{setPrompt('Game over. You\\'ve answered all 8 questions.');setPromptIsHTML(false);// Score is already updated in the hook, but we need to account for the current answer\nconst finalScore=feedbackResult.isCorrect?game.score+1:game.score;setFeedback(\"You made \".concat(finalScore,\" out of \").concat(game.TOTAL_QUESTIONS,\" correct predictions.\"));setFeedbackClass('');}setTimeout(()=>{if(game.questionIndex<game.TOTAL_QUESTIONS){setFeedback('');setFeedbackClass('');}},3000);},800);}}},gridToDraw);}else{const{info,probeCount}=game.handleInferenceProbe(holeNum);animateInferenceProbe(holeNum,info,()=>{if(info.trapped){setFeedback(\"The mouse from hole \".concat(holeNum,\" is stuck in the house forever.\"));}else{setFeedback(\"The mouse from hole \".concat(holeNum,\" came out of hole \").concat(info.exitHole,\".\"));}setFeedbackClass('');const entry=info.trapped?\"From \".concat(holeNum,\" \\u2192 (stuck inside)\"):\"From \".concat(holeNum,\" \\u2192 \").concat(info.exitHole);setLogEntries(prev=>[...prev,entry]);},holeRefs.current);}},[mode,animating,game,animatePath,animateInferenceProbe,gridToDraw,mazeType,formatQuestionPrompt]);const handleNoExitClick=useCallback(()=>{if(animating||mode!=='intro')return;const result=game.handleIntroAnswer(null,true);if(!result)return;animatePath(result.info.path,result.info.exitHole,result.info.trapped,result.animStartHole,()=>{const feedbackResult=result.after();if(feedbackResult){setFeedback(feedbackResult.feedback);setFeedbackClass(feedbackResult.feedbackClass);setTimeout(()=>{if(game.questionIndex<game.TOTAL_QUESTIONS){game.nextQuestion(game.mapping);// Question will be set in state, we'll update prompt in useEffect\n}else{setPrompt('Game over. You\\'ve answered all 8 questions.');setPromptIsHTML(false);// Score is already updated in the hook, but we need to account for the current answer\nconst finalScore=feedbackResult.isCorrect?game.score+1:game.score;setFeedback(\"You made \".concat(finalScore,\" out of \").concat(game.TOTAL_QUESTIONS,\" correct predictions.\"));setFeedbackClass('');}setTimeout(()=>{if(game.questionIndex<game.TOTAL_QUESTIONS){setFeedback('');setFeedbackClass('');}},3000);},800);}},gridToDraw);},[animating,mode,game,animatePath,gridToDraw,mazeType,formatQuestionPrompt]);const handleCanvasClick=useCallback((r,c)=>{if(mode!=='inference'||animating)return;let val=game.modelGrid[r][c];if(mazeType==='walls'){const seq=['','/','\\\\'];let idx=seq.indexOf(val);if(idx===-1)idx=0;val=seq[(idx+1)%seq.length];}else{const seq=['','U','R','D','L'];let idx=seq.indexOf(val);if(idx===-1)idx=0;val=seq[(idx+1)%seq.length];}game.updateModelGrid(r,c,val);},[mode,animating,game,mazeType]);const handleTestModel=useCallback(()=>{if(mode!=='inference')return;const result=game.testModel();setFeedback(result.feedback);setFeedbackClass('');},[mode,game]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.app,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mouse Mazes\"}),/*#__PURE__*/_jsx(GameControls,{mode:mode,mazeType:mazeType,level:level,onModeChange:handleModeChange,onMazeTypeChange:handleMazeTypeChange,onLevelChange:handleLevelChange,onNewGame:handleNewGame}),/*#__PURE__*/_jsxs(\"div\",{className:styles.gameArea,children:[/*#__PURE__*/_jsx(GameBoard,{mode:mode,gridToDraw:gridToDraw,animating:animating,onHoleClick:handleHoleClick,onCanvasClick:handleCanvasClick,mouseMarkerRef:mouseMarkerRef,holeRefs:holeRefs,canvasRef:canvasRef}),/*#__PURE__*/_jsx(SidePanel,{mode:mode,mazeType:mazeType,prompt:prompt,promptIsHTML:promptIsHTML,feedback:feedback,feedbackClass:feedbackClass,score:game.score,questionIndex:game.questionIndex,totalQuestions:game.TOTAL_QUESTIONS,onTestModel:handleTestModel,onNoExitClick:handleNoExitClick,logEntries:logEntries})]})]});}export default App;","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","GameControls","GameBoard","SidePanel","useMazeGame","useMazeCanvas","useAnimation","emptyGrid","simulateHoleWithGrid","computeMappingForGrid","styles","jsx","_jsx","jsxs","_jsxs","App","mode","setMode","mazeType","setMazeType","level","setLevel","prompt","setPrompt","promptIsHTML","setPromptIsHTML","feedback","setFeedback","feedbackClass","setFeedbackClass","logEntries","setLogEntries","mouseMarkerRef","holeRefs","game","gridToDraw","realGrid","modelGrid","canvasRef","ctxRef","drawMaze","animating","animatePath","animateInferenceProbe","formatQuestionPrompt","question","questionIndex","totalQuestions","toggleIntroColor","color","scenarioLine","rest","concat","startHole","extra","endHole","currentQuestion","TOTAL_QUESTIONS","handleModeChange","newMode","handleMazeTypeChange","newMazeType","handleLevelChange","newLevel","handleNewGame","result","startIntroGame","startInferenceGame","handleHoleClick","holeNum","handleIntroAnswer","info","path","exitHole","trapped","animStartHole","feedbackResult","after","isCorrect","undefined","setTimeout","nextQuestion","mapping","finalScore","score","probeCount","handleInferenceProbe","entry","prev","current","handleNoExitClick","handleCanvasClick","r","c","val","seq","idx","indexOf","length","updateModelGrid","handleTestModel","testModel","className","app","children","onModeChange","onMazeTypeChange","onLevelChange","onNewGame","gameArea","onHoleClick","onCanvasClick","onTestModel","onNoExitClick"],"sources":["/Users/joshuaabrams/Library/CloudStorage/Dropbox/Professional Development Activities & Workshops/*Making Math Website/VariedContent/Geometry/LogicAndReasoning/MouseMazes/mouse-mazes-react/src/App.jsx"],"sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport { GameControls } from './components/GameControls/GameControls';\nimport { GameBoard } from './components/GameBoard/GameBoard';\nimport { SidePanel } from './components/SidePanel/SidePanel';\nimport { useMazeGame } from './hooks/useMazeGame';\nimport { useMazeCanvas } from './hooks/useMazeCanvas';\nimport { useAnimation } from './hooks/useAnimation';\nimport { emptyGrid, simulateHoleWithGrid, computeMappingForGrid } from './utils/mazeUtils';\nimport styles from './App.module.css';\n\nfunction App() {\n  const [mode, setMode] = useState('intro');\n  const [mazeType, setMazeType] = useState('walls');\n  const [level, setLevel] = useState('beginner');\n  const [prompt, setPrompt] = useState('Click \"Start New Game\" to begin.\\nIn Introduction mode, you\\'ll get 8 questions on the same maze.\\nIn Inference mode, you\\'ll probe the maze and build your own model.');\n  const [promptIsHTML, setPromptIsHTML] = useState(false);\n  const [feedback, setFeedback] = useState('');\n  const [feedbackClass, setFeedbackClass] = useState('');\n  const [logEntries, setLogEntries] = useState([]);\n  \n  const mouseMarkerRef = useRef(null);\n  const holeRefs = useRef([]);\n  \n  const game = useMazeGame(mazeType, level, mode);\n  const gridToDraw = mode === 'intro' ? game.realGrid : game.modelGrid;\n  const { canvasRef, ctxRef, drawMaze } = useMazeCanvas(gridToDraw);\n  const { animating, animatePath, animateInferenceProbe } = useAnimation(\n    ctxRef,\n    canvasRef,\n    drawMaze,\n    mouseMarkerRef\n  );\n\n  const formatQuestionPrompt = useCallback((question, questionIndex, totalQuestions, mazeType, toggleIntroColor) => {\n    const color = toggleIntroColor() ? \"#e67e22\" : \"#1f6ad3\";\n    let scenarioLine = \"\";\n    let rest = \"\";\n\n    if (question.mode === \"forward\") {\n      scenarioLine = `A mouse leaves hole ${question.startHole}.`;\n      const extra = (mazeType === \"arrows\")\n        ? ' (You can also choose \"The Mouse Doesn\\'t Come Out!\")'\n        : \"\";\n      rest = `Where will it come out? Click a hole.${extra}`;\n    } else if (question.mode === \"reverseWalls\") {\n      scenarioLine = `A mouse ends up in hole ${question.endHole}.`;\n      rest = \"From which hole did it start? Click a starting hole.\";\n    } else {\n      scenarioLine = `A mouse ends up in hole ${question.endHole}.`;\n      rest = \"Click on one hole that could have been its starting hole.\";\n    }\n\n    return `Question ${questionIndex} of ${totalQuestions}:<br>` +\n      `<span style=\"font-weight:bold;color:${color};\">${scenarioLine}</span><br>` +\n      `${rest}`;\n  }, []);\n\n  // Update prompt when mode changes\n  useEffect(() => {\n    if (mode === 'intro') {\n      setPrompt('Introduction mode:\\nClick \"Start New Game\" to get 8 questions on the same maze.\\nAnswer by clicking a hole (or \"The Mouse Doesn\\'t Come Out!\" when appropriate).');\n      setPromptIsHTML(false);\n    } else {\n      setPrompt('Inference mode:\\nClick mouse holes to probe the hidden maze (log appears below).\\nClick inside rooms to set your model (blank / wall / arrow).\\nWhen you\\'re ready, press \"Test My Model\".');\n      setPromptIsHTML(false);\n    }\n    setFeedback('');\n    setFeedbackClass('');\n  }, [mode]);\n\n  // Update prompt when question changes\n  useEffect(() => {\n    if (mode === 'intro' && game.currentQuestion && game.questionIndex > 0 && game.questionIndex <= game.TOTAL_QUESTIONS && game.toggleIntroColor) {\n      setPrompt(formatQuestionPrompt(game.currentQuestion, game.questionIndex, game.TOTAL_QUESTIONS, mazeType, game.toggleIntroColor));\n      setPromptIsHTML(true);\n    }\n  }, [game.currentQuestion, game.questionIndex, mode, mazeType, formatQuestionPrompt, game.TOTAL_QUESTIONS]);\n\n  const handleModeChange = useCallback((newMode) => {\n    setMode(newMode);\n  }, []);\n\n  const handleMazeTypeChange = useCallback((newMazeType) => {\n    setMazeType(newMazeType);\n  }, []);\n\n  const handleLevelChange = useCallback((newLevel) => {\n    setLevel(newLevel);\n  }, []);\n\n  const handleNewGame = useCallback(() => {\n    if (mode === 'intro') {\n      const result = game.startIntroGame();\n      if (result && result.question && game.toggleIntroColor) {\n        setPrompt(formatQuestionPrompt(result.question, result.questionIndex, game.TOTAL_QUESTIONS, mazeType, game.toggleIntroColor));\n        setPromptIsHTML(true);\n      }\n      setFeedback('');\n      setFeedbackClass('');\n    } else {\n      game.startInferenceGame();\n      setPrompt('Inference mode:\\nClick mouse holes to probe the hidden maze (log appears below).\\nClick inside rooms to set your model (blank / wall / arrow).\\nWhen you\\'re ready, press \"Test My Model\".');\n      setPromptIsHTML(false);\n      setFeedback('');\n      setFeedbackClass('');\n      setLogEntries([]);\n    }\n  }, [mode, game, mazeType, formatQuestionPrompt]);\n\n  const handleHoleClick = useCallback((holeNum) => {\n    if (animating) return;\n\n    if (mode === 'intro') {\n      const result = game.handleIntroAnswer(holeNum, false);\n      if (!result) return;\n      \n      animatePath(\n        result.info.path,\n        result.info.exitHole,\n        result.info.trapped,\n        result.animStartHole,\n        () => {\n          const feedbackResult = result.after();\n          if (feedbackResult) {\n            setFeedback(feedbackResult.feedback);\n            setFeedbackClass(feedbackResult.feedbackClass);\n            \n            if (feedbackResult.isCorrect !== undefined) {\n              // Update score display will happen automatically via game state\n              setTimeout(() => {\n                if (game.questionIndex < game.TOTAL_QUESTIONS) {\n                  // Get next question\n                  game.nextQuestion(game.mapping);\n                  // Question will be set in state, we'll update prompt in useEffect\n                } else {\n                  setPrompt('Game over. You\\'ve answered all 8 questions.');\n                  setPromptIsHTML(false);\n                  // Score is already updated in the hook, but we need to account for the current answer\n                  const finalScore = feedbackResult.isCorrect ? game.score + 1 : game.score;\n                  setFeedback(`You made ${finalScore} out of ${game.TOTAL_QUESTIONS} correct predictions.`);\n                  setFeedbackClass('');\n                }\n                \n                setTimeout(() => {\n                  if (game.questionIndex < game.TOTAL_QUESTIONS) {\n                    setFeedback('');\n                    setFeedbackClass('');\n                  }\n                }, 3000);\n              }, 800);\n            }\n          }\n        },\n        gridToDraw\n      );\n    } else {\n      const { info, probeCount } = game.handleInferenceProbe(holeNum);\n      animateInferenceProbe(\n        holeNum,\n        info,\n        () => {\n          if (info.trapped) {\n            setFeedback(`The mouse from hole ${holeNum} is stuck in the house forever.`);\n          } else {\n            setFeedback(`The mouse from hole ${holeNum} came out of hole ${info.exitHole}.`);\n          }\n          setFeedbackClass('');\n          const entry = info.trapped\n            ? `From ${holeNum} → (stuck inside)`\n            : `From ${holeNum} → ${info.exitHole}`;\n          setLogEntries(prev => [...prev, entry]);\n        },\n        holeRefs.current\n      );\n    }\n  }, [mode, animating, game, animatePath, animateInferenceProbe, gridToDraw, mazeType, formatQuestionPrompt]);\n\n  const handleNoExitClick = useCallback(() => {\n    if (animating || mode !== 'intro') return;\n    const result = game.handleIntroAnswer(null, true);\n    if (!result) return;\n    \n    animatePath(\n      result.info.path,\n      result.info.exitHole,\n      result.info.trapped,\n      result.animStartHole,\n      () => {\n        const feedbackResult = result.after();\n        if (feedbackResult) {\n          setFeedback(feedbackResult.feedback);\n          setFeedbackClass(feedbackResult.feedbackClass);\n          \n          setTimeout(() => {\n            if (game.questionIndex < game.TOTAL_QUESTIONS) {\n              game.nextQuestion(game.mapping);\n              // Question will be set in state, we'll update prompt in useEffect\n            } else {\n              setPrompt('Game over. You\\'ve answered all 8 questions.');\n              setPromptIsHTML(false);\n              // Score is already updated in the hook, but we need to account for the current answer\n              const finalScore = feedbackResult.isCorrect ? game.score + 1 : game.score;\n              setFeedback(`You made ${finalScore} out of ${game.TOTAL_QUESTIONS} correct predictions.`);\n              setFeedbackClass('');\n            }\n            \n            setTimeout(() => {\n              if (game.questionIndex < game.TOTAL_QUESTIONS) {\n                setFeedback('');\n                setFeedbackClass('');\n              }\n            }, 3000);\n          }, 800);\n        }\n      },\n      gridToDraw\n    );\n  }, [animating, mode, game, animatePath, gridToDraw, mazeType, formatQuestionPrompt]);\n\n  const handleCanvasClick = useCallback((r, c) => {\n    if (mode !== 'inference' || animating) return;\n    \n    let val = game.modelGrid[r][c];\n    if (mazeType === 'walls') {\n      const seq = ['', '/', '\\\\'];\n      let idx = seq.indexOf(val);\n      if (idx === -1) idx = 0;\n      val = seq[(idx + 1) % seq.length];\n    } else {\n      const seq = ['', 'U', 'R', 'D', 'L'];\n      let idx = seq.indexOf(val);\n      if (idx === -1) idx = 0;\n      val = seq[(idx + 1) % seq.length];\n    }\n    game.updateModelGrid(r, c, val);\n  }, [mode, animating, game, mazeType]);\n\n  const handleTestModel = useCallback(() => {\n    if (mode !== 'inference') return;\n    const result = game.testModel();\n    setFeedback(result.feedback);\n    setFeedbackClass('');\n  }, [mode, game]);\n\n  return (\n    <div className={styles.app}>\n      <h1>Mouse Mazes</h1>\n      <GameControls\n        mode={mode}\n        mazeType={mazeType}\n        level={level}\n        onModeChange={handleModeChange}\n        onMazeTypeChange={handleMazeTypeChange}\n        onLevelChange={handleLevelChange}\n        onNewGame={handleNewGame}\n      />\n      <div className={styles.gameArea}>\n        <GameBoard\n          mode={mode}\n          gridToDraw={gridToDraw}\n          animating={animating}\n          onHoleClick={handleHoleClick}\n          onCanvasClick={handleCanvasClick}\n          mouseMarkerRef={mouseMarkerRef}\n          holeRefs={holeRefs}\n          canvasRef={canvasRef}\n        />\n        <SidePanel\n          mode={mode}\n          mazeType={mazeType}\n          prompt={prompt}\n          promptIsHTML={promptIsHTML}\n          feedback={feedback}\n          feedbackClass={feedbackClass}\n          score={game.score}\n          questionIndex={game.questionIndex}\n          totalQuestions={game.TOTAL_QUESTIONS}\n          onTestModel={handleTestModel}\n          onNoExitClick={handleNoExitClick}\n          logEntries={logEntries}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}